(this.webpackJsonpperiskop=this.webpackJsonpperiskop||[]).push([[0],{28:function(t,e){t.exports="data:image/png;base64,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"},72:function(t,e,a){t.exports=a(78)},77:function(t,e,a){},78:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),i=(a(77),a(20)),l=a(2),s=a(3),u=a(5),d=a(4),h=a(6),m=a(27),p=a.n(m),f=a(1),g=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).margins={top:10,right:30,bottom:30,left:50},a.height=200-a.margins.top-a.margins.bottom,a.width=700-a.margins.left-a.margins.right,a.x_scale=f.i().range([0,a.width]),a.y_scale=f.h().range([a.height,a.margins.bottom]),a.x_axis=f.a(a.x_scale).ticks(7),a.y_axis=f.b(a.y_scale).ticks(4),a.zoomed=function(){var t=f.d.transform.rescaleX(a.x_scale);f.j(".line_chart").attr("d",a.line(t)),f.j(".xAxis").call(a.x_axis.scale(t))},a.zoom=f.k().extent([[a.margins.left,0],[a.width-a.margins.right,a.height]]).scaleExtent([1,32]).translateExtent([[a.margins.left,a.margins.top],[a.width-a.margins.right,a.margins.bottom]]).on("zoom",a.zoomed),a.line=function(t){return f.f().x((function(e){return t(new Date(e.t))})).y((function(t){return a.y_scale(+t.a)})).curve(f.c)},a.draw_chart=function(t){var e=t.d,n="chart-".concat(t.k);e.sort((function(t,e){return new Date(t.t)-new Date(e.t)})),a.x_scale.domain(f.e(e.map((function(t){return new Date(t.t)})))),a.y_scale.domain([0,f.g(e,(function(t){return+t.a}))]),f.j("#".concat(n," .xAxis")).call(a.x_axis),f.j("#".concat(n," .yAxis")).call(a.y_axis),f.j("#".concat(n," .line")).append("path").attr("class","line_chart").datum(e).attr("d",a.line(a.x_scale)),f.j("#".concat(n," svg")).call(a.zoom)},a}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.draw_chart(this.props.data)}},{key:"render",value:function(){var t=this.props.data.k;return r.a.createElement("svg",{key:this.props.data.k,id:"chart-".concat(t),preserveAspectRatio:"xMidYMid meet",width:"100%",height:this.height+this.margins.top+this.margins.bottom},r.a.createElement("g",{className:"line",transform:"translate(".concat(this.margins.left,", 0)")}),r.a.createElement("g",{className:"xAxis",transform:"translate(".concat(this.margins.left,", ").concat(this.height,")")}),r.a.createElement("g",{className:"yAxis",transform:"translate(".concat(this.margins.left,", 0)")}))}}]),e}(r.a.Component),b=function(t){function e(){return Object(l.a)(this,e),Object(u.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return this.props.data.length>0?r.a.createElement("div",{className:"gallery"},this.props.data.map((function(e){return r.a.createElement(p.a,{axis:"both",key:"draggable-".concat(e.k),handle:".handle",defaultPosition:{x:0,y:0},position:null,grid:[15,15],scale:1,onStart:t.handleStart,onDrag:t.handleDrag,onStop:t.handleStop},r.a.createElement("div",null,r.a.createElement("h2",{key:e.k,className:"handle"},e.t),r.a.createElement(g,{key:"chart-".concat(e.k),data:e})))}))):null}}]),e}(r.a.Component),A=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"\u041f\u0435\u0440\u0438\u0441\u043a\u043e\u043f"),r.a.createElement("p",{className:"caption"},"\u0412\u0438\u0434\u0435\u0442\u044c \u043f\u043e\u0432\u0435\u0440\u0445 \u0433\u043e\u043b\u043e\u0432"),r.a.createElement("p",null,"\u041e\u0446\u0435\u043d\u043a\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043e\u0431\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0432 \u0411\u0435\u043b\u0430\u0440\u0443\u0441\u0438"))},E=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(c)))).state={data_found:null},a.request_headers=new Headers({"X-Algolia-API-Key":"01434ca5ac59b159343e9508373599f3","X-Algolia-Application-Id":"FG1WJNZR1K"}),a.clean_response=function(t){var e={};return t.hits.forEach((function(t){void 0===e[t.ind]&&(e[t.ind]=t.title)})),e},a.get_data=function(t){return fetch("https://FG1WJNZR1K-dsn.algolia.net/1/indexes/periskop?query=".concat(t),{method:"GET",headers:a.request_headers,mode:"cors",cache:"default"}).then((function(t){return t.json()})).then((function(t){return a.clean_response(t)})).then((function(t){return a.setState({data_found:t})}))},a.handle_input=function(t){if(t.target.value.length>4)document.getElementById("data_found").classList.remove("hidden"),a.get_data(t.target.value);else{if(0!==t.target.value.length)return null;document.getElementById("data_found").classList.add("hidden")}},a.output_data=function(){if(null!=a.state.data_found)return r.a.createElement("ul",null,Object.entries(a.state.data_found).map((function(t){return r.a.createElement("li",{key:"id_".concat(t[0]),"data-key":t[0],onClick:a.props.update_func},t[1])})))},a.hide_found_list=function(){0!==document.getElementById("search_box").value.length&&document.getElementById("data_found").classList.remove("hidden")},a}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){document.getElementById("search_box").onblur=this.hide_found_list}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"search_box",type:"text",className:"search",placeholder:"\u0418\u0441\u043a\u0430\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c",onChange:this.handle_input}),r.a.createElement("div",{id:"data_found",className:"hidden"},this.output_data()))}}]),e}(r.a.Component),v=a(28),x=a.n(v),y=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"extra"},r.a.createElement("p",null,"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445: ",r.a.createElement("a",{href:"http://belstat.gov.by"},"\u0411\u0435\u043b\u0441\u0442\u0430\u0442"),", ",r.a.createElement("a",{href:"http://nbrb.by"},"\u041d\u0411\u0420\u0411"),", ",r.a.createElement("a",{href:"http://mvd.gov.by"},"\u041c\u0412\u0414"),".",r.a.createElement("br",null),"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: ",r.a.createElement("a",{href:"https://github.com/ushchent/periskop"},"github.com/ushchent/periskop."),r.a.createElement("br",null),"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u041c\u0435\u0434\u0432\u0435\u0446\u043a\u0438\u0439, am@opendata.by.",r.a.createElement("br",null),"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430: \u041f\u0440\u043e\u0442\u043e\u0442\u0438\u043f.")),r.a.createElement("div",{className:"cc_logo"},r.a.createElement("a",{href:"http://creativecommons.org/licenses/by-sa/4.0/deed.be"},r.a.createElement("img",{src:x.a,alt:"Creative Commons CC BY-SA 4.0"}))),r.a.createElement("div",{className:"text"},r.a.createElement("p",null,'2019 data\u0428\u043a\u043e\u043b\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430 "',r.a.createElement("a",{href:"http://opendata.by"},"\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0411\u0435\u043b\u0430\u0440\u0443\u0441\u0438"),'".')))},O=function(t){function e(){var t,a;Object(l.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={indicators_available:[],data:[]},a.update_indicators_list=function(t){var e=+t.currentTarget.getAttribute("data-key"),n=t.currentTarget.innerText;document.getElementById("search_box").value=n,document.getElementById("data_found").classList.add("hidden"),-1===a.state.indicators_available.indexOf(e)&&fetch("https://periskop-c44c7.firebaseio.com/data/".concat(e,".json")).then((function(t){return t.json()})).then((function(t){return a.setState({data:[].concat(Object(i.a)(a.state.data),[t])})}))},a}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidUpdate",value:function(){var t=this;0===this.state.data.length&&this.state.indicators_available.forEach((function(e){fetch("https://periskop-c44c7.firebaseio.com/data/".concat(e,".json")).then((function(t){return t.json()})).then((function(e){return t.setState({data:[].concat(Object(i.a)(t.state.data),[e])})}))}))}},{key:"componentDidMount",value:function(){var t=this;fetch("https://periskop-c44c7.firebaseio.com/indicators_available.json").then((function(t){return t.json()})).then((function(e){return t.setState({indicators_available:e})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(E,{update_func:this.update_indicators_list}),r.a.createElement(b,{data:this.state.data}),r.a.createElement(y,null))}}]),e}(r.a.Component);var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[72,1,2]]]);
//# sourceMappingURL=main.092760b0.chunk.js.map